<div class="registered-users-container" fxLayout="row">
  <div class="mt-4 mb-4" fxLayout="column" fxFlex="96" fxFlexOffset="2" fxLayoutGap="1rem">
    <app-filter-common-report (emitFilterValue)="onReciveEventFromFilter($event)"></app-filter-common-report>
    <div class="middle-content" *ngIf="!showMiddleContentFilter" fxLayout="row" fxLayoutAlign="space-between start"
      fxLayoutGap="1rem">
      <mat-card fxFlex="60" class="registered-users-graphs-card">
        <mat-card-content>
          <app-area-graphs-registered-users></app-area-graphs-registered-users>
        </mat-card-content>
      </mat-card>
      <mat-card fxFlex="40" class="significant-data">
        <mat-card-content>
          <app-significant-data></app-significant-data>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="middle-content-filter" *ngIf="showMiddleContentFilter">
      <mat-card class="registered-users-graphs-card">
        <mat-card-content>
          <app-area-graphs-registered-users></app-area-graphs-registered-users>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="bottom-content" fxLayout="row">
      <mat-card class="w-100 table">
        <mat-card-content>
          <div class="information-table-registered-users" fxLayout="column">
            <div class="action-btns" fxLayout=row fxLayoutAlign="space-between center">
              <button class="left-btn" mat-icon-button>
                <mat-icon>update</mat-icon>
              </button>
              <div class="rigth-btn" fxLayout="row" fxLayoutAlign="end center" fxLayoutGap=".5rem">
                <button class="one" mat-icon-button>
                  <mat-icon>star</mat-icon>
                </button>
                <button class="two" mat-icon-button>
                  <mat-icon>share</mat-icon>
                </button>
                <button class="thre" mat-icon-button>
                  <mat-icon>print</mat-icon>
                </button>
                <button class="thre" mat-icon-button>
                  <mat-icon>filter_list</mat-icon>
                </button>
              </div>
            </div>
            <div class="table-container">
              <table mat-table [dataSource]="dataSource" class="table-registered-users w-100">
                 <!-- Checkbox Column -->
                 <ng-container matColumnDef="select">
                  <th mat-header-cell *matHeaderCellDef>
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="selection.hasValue() && isAllSelected()"
                      [indeterminate]="selection.hasValue() && !isAllSelected()" color="primary">
                    </mat-checkbox>
                  </th>
                  <td mat-cell *matCellDef="let row">
                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                      [checked]="selection.isSelected(row)" (click)="checkBoxSelected(row)" color="primary">
                    </mat-checkbox>
                  </td>
                </ng-container>

                <!-- Date Column -->
                <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef class="header"> Fecha </th>
                  <td mat-cell *matCellDef="let element">
                    {{element.date.toISOString().split(',')[0]}}
                  </td>
                </ng-container>

                <!-- Client Column -->
                <ng-container matColumnDef="client">
                  <th mat-header-cell *matHeaderCellDef class="header"> Clientes </th>
                  <td mat-cell *matCellDef="let element"> {{element.clients}} </td>
                </ng-container>

                <!-- Specialist Column -->
                <ng-container matColumnDef="specialist">
                  <th mat-header-cell *matHeaderCellDef class="header"> Especialistas </th>
                  <td mat-cell *matCellDef="let element"> {{element.specialistsNumber}} </td>
                </ng-container>

                <!-- Admins Column -->
                <ng-container matColumnDef="admins">
                  <th mat-header-cell *matHeaderCellDef class="header"> Administradores </th>
                  <td mat-cell *matCellDef="let element"> {{element.adminsNumber}} </td>
                </ng-container>

                <!-- Total registered users Column -->
                <ng-container matColumnDef="totalRegisteredUsers">
                  <th mat-header-cell *matHeaderCellDef class="header"> Total Usuarios Registrados </th>
                  <td mat-cell *matCellDef="let element"> {{element.totalRegisteredUsers}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
                </tr>
              </table>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
